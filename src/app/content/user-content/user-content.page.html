<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="goBack()" class="back-button">
        <ion-icon src="../../../assets/icon/arrow-back-outline.svg"  class="icon"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button (click)="addDiscount()">
        <ion-icon src="../../../assets/icon/percent.svg"  class="icons" color="primary"></ion-icon>
      </ion-button>
      <ion-button (click)="editUser()">
        <ion-icon src="../../../assets/icon/create-outline.svg"  class="icons" color="primary"></ion-icon>
      </ion-button>
      <ion-button (click)="deleteUser()">
        <ion-icon src="../../../assets/icon/trash-outline.svg"  class="icons" color="danger"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title class="ion-text-center" *ngIf="user">{{user.name}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" *ngIf="user">
<ion-grid>
  <ion-row>
    <ion-col>
      <ion-title class='ion-text-start'>Informații Generale</ion-title>
      <ion-item lines="none" class="input">
          <ion-label>Nume: {{user.name}}</ion-label>
      </ion-item>
      <ion-item lines="none" class="input">
        <ion-label>Email: {{user.email}}</ion-label>
      </ion-item>
      <ion-item lines="none" class="input">
        <ion-label>Telefon: {{user.telephone}}</ion-label>
      </ion-item>

    </ion-col>
    <ion-col>
      <ion-title class='ion-text-start'>Informații Aplicație</ion-title>
      <ion-item lines="none" class="input">
          <ion-label>Cash Back: {{user.cashBack}} Lei</ion-label>
      </ion-item>
      <ion-item lines="none" class="input">
        <ion-label>Comenzi: {{user.orders.length}}</ion-label>
      </ion-item>
      <ion-item lines="none" class="input">
        <ion-label>Status: {{user.status}}</ion-label>
      </ion-item>
    </ion-col>
    <ion-col *ngIf="user.employee">
      <ion-title class='ion-text-start'>Informatii Angajat</ion-title>
      <ion-item lines="none" class="input">
          <ion-label>Nume Complet: {{user.employee.fullName}}</ion-label>
      </ion-item>
      <ion-item lines="none" class="input">
        <ion-label>Functie: {{user.employee.position}}</ion-label>
      </ion-item>
      <ion-item lines="none" class="input" *ngIf="user.employee.salary">
        <ion-label>Salariu NET: {{user.employee.salary.inHeand}}</ion-label>
      </ion-item>
      <ion-item lines="none" class="input">
        <ion-label>Adresa: {{user.employee.address}}</ion-label>
      </ion-item>
      <ion-item lines="none" class="input">
        <ion-label>CNP: {{user.employee.cnp}}</ion-label>
      </ion-item>
      <ion-item lines="none" class="input">
        <ion-label>Serie: {{user.employee.ciSerial}}</ion-label>
      </ion-item>
      <ion-item lines="none" class="input">
        <ion-label>Număr: {{user.employee.ciNumber}}</ion-label>
      </ion-item>
      <ion-item lines="none" class="input">
        <ion-label>Access: Level {{user.employee.access}}</ion-label>
      </ion-item>
      <ion-item lines="none" class="input">
        <ion-label>Stare: {{user.employee.active ? 'Activ' : 'Inactiv'}}</ion-label>
      </ion-item>
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col>
      <ion-title>COMENZI</ion-title>
    </ion-col>
  </ion-row>
  <ion-row *ngIf="user.orders.length">
    <ion-col>
      <ion-item lines="none" class="order-wrapper" *ngFor="let order of user.orders.reverse(); let i = index" (click)="showOrder(order)">
          <span class="nr">Nr. {{i+1}}</span>
          <span class="date">{{formatDate(order.createdAt)}}</span>
          <span class="prodLen">{{order.productCount}}  Produse</span>
          <span class="total">Total: {{order.total}} Lei</span>
          <span class="cashBack">{{order.cashBack}} Lei CashBack</span>
          <span class="discount">{{order.discount}} Lei Reducere</span>
      </ion-item>
    </ion-col>
  </ion-row>
</ion-grid>
</ion-content>
